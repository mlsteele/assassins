<template name="main">
  <h1>Slug Assassins</h1>
  {{> yield}}
</template>

<template name="home">
  {{#if currentUser}}
    {{#if joinedGame}}
      {{#if gameRunning}}
        {{> dashboard}}
      {{else}}
        {{> pregame}}
      {{/if}}
    {{else}}
      {{> start}}
    {{/if}}
  {{else}}
    {{> start}}
  {{/if}}
</template>

<template name="start">
  <a href="{{pathFor route='create'}}">Start a new game</a>
  <a href="{{pathFor route='join'}}">Join a game</a>
</template>

<template name="create">
  <h2>Create a Game</h2>
  <form>
    <input type="text" placeholder="name of game" name="name">
    <input type="email" placeholder="mailing list to invite" name="list">
    <input type="submit" name="create-game" value="Go!">
  </form>
  {{#if error_message}}
    <span>{{error_message}}</span>
  {{/if}}
</template>

<template name="join">
  <h2>Join a game</h2>
  <form>
    <input type="text" placeholder="name of game" name="name">
    <input type="submit" name="join-game" value="join">
  </form>
  {{#if bad_game_id}}
    <span>No game named "{{bad_game_id}}"</span>
  {{/if}}
</template>

<template name="login">
  <h2>Login!</h2>
  Anna is the only username that will work right now
  <form>
    <input type="text" placeholder="Username" name="username">
    <input type="text" placeholder="Password" name="password">
    <input type="submit" name="login" value="login">
  </form>



  <div class="login-results"> User not found! </div>

</template>

<template name="dashboard">
  <h2>Dashboard</h2>
  <b>Your Target:</b> {{target}} <br>
  <button name="die">I've been killed!</button><br>
  Players:
  {{> playerslist}}
</template>

<template name="pregame">
  The game hasn't started yet. Here are the signed up players:
  {{> playerslist}}
  {{#if manager}}
    <button name="start-game">Start the game</button>
    <button name="cancel-game">Cancel the game</button>
  {{/if}}
</template>

<template name="playerslist">
  <ul>
    {{#each players}}
      <li>{{name}}
        {{#if manager}}
          (Game Manager)
        {{/if}}
      </li>
    {{/each}}
  </ul>
</template>
